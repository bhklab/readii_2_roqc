{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"READII-2-ROQC Author: Katy Scott Contact: bhklab.katyscott@gmail.com GitHub: strixy16 Radiomic Extraction and Analysis for DICOM Images to Refine Objective Quality Control Set Up Prerequisites Pixi is required to run this project. If you haven't installed it yet, follow these instructions Installation Clone this repository to your local machine Navigate to the project directory Set up the environment using Pixi: pixi install Documentation Click here to view the full documentation.","title":"Home"},{"location":"#readii-2-roqc","text":"Author: Katy Scott Contact: bhklab.katyscott@gmail.com GitHub: strixy16 Radiomic Extraction and Analysis for DICOM Images to Refine Objective Quality Control","title":"READII-2-ROQC"},{"location":"#set-up","text":"","title":"Set Up"},{"location":"#prerequisites","text":"Pixi is required to run this project. If you haven't installed it yet, follow these instructions","title":"Prerequisites"},{"location":"#installation","text":"Clone this repository to your local machine Navigate to the project directory Set up the environment using Pixi: pixi install","title":"Installation"},{"location":"#documentation","text":"Click here to view the full documentation.","title":"Documentation"},{"location":"data_sources/","text":"Data Sources CC-Radiomics-Phantom Name : Credence Cartridge Radiomics Phantom CT Scans Version/Date : Version 1: Updated 2017/07/28 URL : https://www.cancerimagingarchive.net/collection/cc-radiomics-phantom/ Access Method : NBIA Data Retriever Access Date : 2025-04-22 Data Format : DICOM Citation : Mackin, D., Ray, X., Zhang, L., Fried, D., Yang, J., Taylor, B., Rodriguez-Rivera, E., Dodge, C., Jones, A., & Court, L. (2017). Data From Credence Cartridge Radiomics Phantom CT Scans (CC-Radiomics-Phantom) [Data set]. The Cancer Imaging Archive. https://doi.org/10.7937/K9/TCIA.2017.zuzrml5b License : CC BY 3.0 Data Types : Images: CT, RTSTRUCT Sample Size : 17 subjects NSCLC-Radiomics Name : NSCLC-Radiomics (or Lung1) Version/Date : Version 4: Updated 2020/10/22 URL : https://www.cancerimagingarchive.net/collection/nsclc-radiomics/ Access Method : NBIA Data Retriever Access Date : 2025-04-23 Data Format : DICOM Citation : Aerts, H. J. W. L., Wee, L., Rios Velazquez, E., Leijenaar, R. T. H., Parmar, C., Grossmann, P., Carvalho, S., Bussink, J., Monshouwer, R., Haibe-Kains, B., Rietveld, D., Hoebers, F., Rietbergen, M. M., Leemans, C. R., Dekker, A., Quackenbush, J., Gillies, R. J., Lambin, P. (2014). Data From NSCLC-Radiomics (version 4) [Data set]. The Cancer Imaging Archive. https://doi.org/10.7937/K9/TCIA.2015.PF0M9REI License : CC BY-NC 3.0 Data Types : Images: CT, RTSTRUCT Clinical: CSV Sample Size : 422 subjects ROI Name : Tumour = GTV-1 Notes : LUNG-128 does not have a GTV segmentation, so only 421 patients are processed. HEAD-NECK-RADIOMICS-HN1 Name : HEAD-NECK-RADIOMICS-HN1 (or H&N1) Version/Date : Version 3: Updated 2020/07/29 URL : https://www.cancerimagingarchive.net/collection/head-neck-radiomics-hn1/ Access Method : NBIA Data Retriever Access Date : 2025-04-23 Data Format : DICOM Citation : Wee, L., & Dekker, A. (2019). Data from HEAD-NECK-RADIOMICS-HN1 [Data set]. The Cancer Imaging Archive. https://doi.org/10.7937/tcia.2019.8kap372n License : Images: TCIA No Commercial Limited Clinical: CC BY-NC 3.0 Data Types : Images: CT, RTSTRUCT Clinical: CSV Sample Size : 137 subjects ROI Name : Tumour = GTV-1 RADCURE Name : RADCURE Version/Date : Clinical: Version 4: Updated 2024/12/19 / Images: Version 3: Updated 2024/03/27 URL : https://www.cancerimagingarchive.net/collection/radcure/ Access Method : NBIA Data Retriever Access Date : 2024-05-23 Data Format : DICOM Citation : Welch, M. L., Kim, S., Hope, A., Huang, S. H., Lu, Z., Marsilla, J., Kazmierski, M., Rey-McIntyre, K., Patel, T., O\u2019Sullivan, B., Waldron, J., Kwan, J., Su, J., Soltan Ghoraie, L., Chan, H. B., Yip, K., Giuliani, M., Princess Margaret Head And Neck Site Group, Bratman, S., \u2026 Tadic, T. (2023). Computed Tomography Images from Large Head and Neck Cohort (RADCURE) (Version 4) [Dataset]. The Cancer Imaging Archive. https://doi.org/10.7937/J47W-NM11 License : Images: TCIA Restricted Clinical: CC BY-NC 4.0 Data Types : Images: CT, RTSTRUCT Clinical: CSV Sample Size : 3,346 subjects ROI Name : Tumour = GTVp$ (regex to just get first primary tumour) Overview This section should document all data sources used in your project. Proper documentation ensures reproducibility and helps others understand your research methodology. How to Document Your Data For each data source, include the following information: 1. External Data Sources Name : Official name of the dataset Version/Date : Version number or access date URL : Link to the data source Access Method : How the data was obtained (direct download, API, etc.) Access Date : When the data was accessed/retrieved Data Format : Format of the data (FASTQ, DICOM, CSV, etc.) Citation : Proper academic citation if applicable License : Usage restrictions and attribution requirements Example: ## TCGA RNA-Seq Data - **Name**: The Cancer Genome Atlas RNA-Seq Data - **Version**: Data release 28.0 - March 2021 - **URL**: https://portal.gdc.cancer.gov/ - **Access Method**: GDC Data Transfer Tool - **Access Date**: 2021-03-15 - **Citation**: The Cancer Genome Atlas Network. (2012). Comprehensive molecular portraits of human breast tumours. Nature, 490(7418), 61-70. - **License**: [NIH Genomic Data Sharing Policy](https://sharing.nih.gov/genomic-data-sharing-policy) 2. Internal/Generated Data Name : Descriptive name of the dataset Creation Date : When the data was generated Creation Method : Brief description of how the data was created Input Data : What source data was used Processing Scripts : References to scripts/Github Repo used to generate this data Example: ## Processed RNA-Seq Data - **Name**: Processed RNA-Seq Data for TCGA-BRCA - **Creation Date**: 2021-04-01 - **Creation Method**: Processed using kallisto and DESeq2 - **Input Data**: FASTQ Data obtained from the SRA database - **Processing Scripts**: [GitHub Repo](https://github.com/tcga-brca-rnaseq) 3. Data Dictionary For complex datasets, include a data dictionary that explains: Column Name Data Type Description Units Possible Values patient_id string Unique patient identifier N/A TCGA-XX-XXXX format age integer Patient age at diagnosis years 18-100 expression float Gene expression value TPM Any positive value Best Practices Store raw data in data/rawdata/ and never modify it Store processed data in data/procdata/ and all code used to generate it should be in workflow/scripts/ Document all processing steps Track data provenance (where data came from and how it was modified) Respect data usage agreements and licenses! This is especially important for data that should not be shared publicly","title":"Data Sources"},{"location":"data_sources/#data-sources","text":"","title":"Data Sources"},{"location":"data_sources/#cc-radiomics-phantom","text":"Name : Credence Cartridge Radiomics Phantom CT Scans Version/Date : Version 1: Updated 2017/07/28 URL : https://www.cancerimagingarchive.net/collection/cc-radiomics-phantom/ Access Method : NBIA Data Retriever Access Date : 2025-04-22 Data Format : DICOM Citation : Mackin, D., Ray, X., Zhang, L., Fried, D., Yang, J., Taylor, B., Rodriguez-Rivera, E., Dodge, C., Jones, A., & Court, L. (2017). Data From Credence Cartridge Radiomics Phantom CT Scans (CC-Radiomics-Phantom) [Data set]. The Cancer Imaging Archive. https://doi.org/10.7937/K9/TCIA.2017.zuzrml5b License : CC BY 3.0 Data Types : Images: CT, RTSTRUCT Sample Size : 17 subjects","title":"CC-Radiomics-Phantom"},{"location":"data_sources/#nsclc-radiomics","text":"Name : NSCLC-Radiomics (or Lung1) Version/Date : Version 4: Updated 2020/10/22 URL : https://www.cancerimagingarchive.net/collection/nsclc-radiomics/ Access Method : NBIA Data Retriever Access Date : 2025-04-23 Data Format : DICOM Citation : Aerts, H. J. W. L., Wee, L., Rios Velazquez, E., Leijenaar, R. T. H., Parmar, C., Grossmann, P., Carvalho, S., Bussink, J., Monshouwer, R., Haibe-Kains, B., Rietveld, D., Hoebers, F., Rietbergen, M. M., Leemans, C. R., Dekker, A., Quackenbush, J., Gillies, R. J., Lambin, P. (2014). Data From NSCLC-Radiomics (version 4) [Data set]. The Cancer Imaging Archive. https://doi.org/10.7937/K9/TCIA.2015.PF0M9REI License : CC BY-NC 3.0 Data Types : Images: CT, RTSTRUCT Clinical: CSV Sample Size : 422 subjects ROI Name : Tumour = GTV-1 Notes : LUNG-128 does not have a GTV segmentation, so only 421 patients are processed.","title":"NSCLC-Radiomics"},{"location":"data_sources/#head-neck-radiomics-hn1","text":"Name : HEAD-NECK-RADIOMICS-HN1 (or H&N1) Version/Date : Version 3: Updated 2020/07/29 URL : https://www.cancerimagingarchive.net/collection/head-neck-radiomics-hn1/ Access Method : NBIA Data Retriever Access Date : 2025-04-23 Data Format : DICOM Citation : Wee, L., & Dekker, A. (2019). Data from HEAD-NECK-RADIOMICS-HN1 [Data set]. The Cancer Imaging Archive. https://doi.org/10.7937/tcia.2019.8kap372n License : Images: TCIA No Commercial Limited Clinical: CC BY-NC 3.0 Data Types : Images: CT, RTSTRUCT Clinical: CSV Sample Size : 137 subjects ROI Name : Tumour = GTV-1","title":"HEAD-NECK-RADIOMICS-HN1"},{"location":"data_sources/#radcure","text":"Name : RADCURE Version/Date : Clinical: Version 4: Updated 2024/12/19 / Images: Version 3: Updated 2024/03/27 URL : https://www.cancerimagingarchive.net/collection/radcure/ Access Method : NBIA Data Retriever Access Date : 2024-05-23 Data Format : DICOM Citation : Welch, M. L., Kim, S., Hope, A., Huang, S. H., Lu, Z., Marsilla, J., Kazmierski, M., Rey-McIntyre, K., Patel, T., O\u2019Sullivan, B., Waldron, J., Kwan, J., Su, J., Soltan Ghoraie, L., Chan, H. B., Yip, K., Giuliani, M., Princess Margaret Head And Neck Site Group, Bratman, S., \u2026 Tadic, T. (2023). Computed Tomography Images from Large Head and Neck Cohort (RADCURE) (Version 4) [Dataset]. The Cancer Imaging Archive. https://doi.org/10.7937/J47W-NM11 License : Images: TCIA Restricted Clinical: CC BY-NC 4.0 Data Types : Images: CT, RTSTRUCT Clinical: CSV Sample Size : 3,346 subjects ROI Name : Tumour = GTVp$ (regex to just get first primary tumour)","title":"RADCURE"},{"location":"data_sources/#overview","text":"This section should document all data sources used in your project. Proper documentation ensures reproducibility and helps others understand your research methodology.","title":"Overview"},{"location":"data_sources/#how-to-document-your-data","text":"For each data source, include the following information:","title":"How to Document Your Data"},{"location":"data_sources/#1-external-data-sources","text":"Name : Official name of the dataset Version/Date : Version number or access date URL : Link to the data source Access Method : How the data was obtained (direct download, API, etc.) Access Date : When the data was accessed/retrieved Data Format : Format of the data (FASTQ, DICOM, CSV, etc.) Citation : Proper academic citation if applicable License : Usage restrictions and attribution requirements Example: ## TCGA RNA-Seq Data - **Name**: The Cancer Genome Atlas RNA-Seq Data - **Version**: Data release 28.0 - March 2021 - **URL**: https://portal.gdc.cancer.gov/ - **Access Method**: GDC Data Transfer Tool - **Access Date**: 2021-03-15 - **Citation**: The Cancer Genome Atlas Network. (2012). Comprehensive molecular portraits of human breast tumours. Nature, 490(7418), 61-70. - **License**: [NIH Genomic Data Sharing Policy](https://sharing.nih.gov/genomic-data-sharing-policy)","title":"1. External Data Sources"},{"location":"data_sources/#2-internalgenerated-data","text":"Name : Descriptive name of the dataset Creation Date : When the data was generated Creation Method : Brief description of how the data was created Input Data : What source data was used Processing Scripts : References to scripts/Github Repo used to generate this data Example: ## Processed RNA-Seq Data - **Name**: Processed RNA-Seq Data for TCGA-BRCA - **Creation Date**: 2021-04-01 - **Creation Method**: Processed using kallisto and DESeq2 - **Input Data**: FASTQ Data obtained from the SRA database - **Processing Scripts**: [GitHub Repo](https://github.com/tcga-brca-rnaseq)","title":"2. Internal/Generated Data"},{"location":"data_sources/#3-data-dictionary","text":"For complex datasets, include a data dictionary that explains: Column Name Data Type Description Units Possible Values patient_id string Unique patient identifier N/A TCGA-XX-XXXX format age integer Patient age at diagnosis years 18-100 expression float Gene expression value TPM Any positive value","title":"3. Data Dictionary"},{"location":"data_sources/#best-practices","text":"Store raw data in data/rawdata/ and never modify it Store processed data in data/procdata/ and all code used to generate it should be in workflow/scripts/ Document all processing steps Track data provenance (where data came from and how it was modified) Respect data usage agreements and licenses! This is especially important for data that should not be shared publicly","title":"Best Practices"},{"location":"devnotes/","text":"Developer Notes Data Processing Notes [2025-05-05] PyRadiomics original_all_features extraction tracking [2025-05-07] Updated with completed HN1 runs NC / Dataset CC-Radiomics-Phantom HEAD-NECK-RADIOMICS-HN1 NSCLC-Radiomics full original X X X full randomized X X X full sampled X X X full shuffled X X X non_roi randomized X X X non_roi sampled X X X non_roi shuffled X X X roi randomized X X X roi sampled X X X roi shuffled X X X [2025-05-12] Tracking extraction of all features for Aerts signature |Feature / Dataset | HEAD-NECK-RADIOMICS-HN1 | NSCLC-Radiomics | RADCURE | |original_firstorder_Energy | X | X | X | |original_shape_Compactness1 | X | X | X | |original_glrlm_GrayLevelNonUniformity | X | X | X | |wavelet-HLH_glrlm_GrayLevelNonUniformity | running | running | X | Bootstrapping help came from: https://acclab.github.io/bootstrap-confidence-intervals.html survcomp R package only works for linux and osx-64 tried the scikit-survival implementation of the concordance index with bootstrapping, but results don't match Mattea's exactly trying with R now [2025-05-13] Processing data for signature prediction models * Since RADCURE was processed with old med-imagetools, manually set up mit_index from dataset.csv * Change the column patient_ID to PatientID * Add index column label SampleID |File / Dataset | HEAD-NECK-RADIOMICS-HN1 | NSCLC-Radiomics | RADCURE | | clinical | id | PatientID | patient_id | | mit index file | SampleID, PatientID | PatientID | SampleID, PatientID | | radiomics | ID == | ID | ID | HN1 - going to make a SampleID column in the mit2_index Rerunning all the MIT and feature extraction Manuscript Notes [2025-05-14] Manuscript Review Feedback Notes Introduction/Background Paragraph around biological/clinical application of radiomics (why do we do it?) Literature review for other quality control methods for radiomics Methods Add prediction of HPV status model Include section about saving out the negative control images Explain modular implementation of the negative controls such that users can construct their own Add ability to save out the changed mask from the contraction/expansion NCs Look for synonyms for transformation Intensity transformation? Sisira asked for an example of the RadiomicSet data to understand what it looks like Results Josh liked the new abstract figure more Get p-value calculation code from Caryn Save out bootstrap hazards so they don't get recalculated Keep the diagonal self-correlation plots, will go in supplemental Calculate and plot average correlations between clusters of features (shape vs. first order) Hierarchical clustering between the feature class clusters Correlation plot of the Aerts signature + volume features Compare distribution of correlation values in a line plot Line for each image type x-axis is the feature types, colourblock behind the plot for each imagetype Plot correlations with outcome before and after QC Plots - [ ] Box plot of hazards for each image type and dataset to compare","title":"Developer Notes"},{"location":"devnotes/#developer-notes","text":"","title":"Developer Notes"},{"location":"devnotes/#data-processing-notes","text":"[2025-05-05] PyRadiomics original_all_features extraction tracking [2025-05-07] Updated with completed HN1 runs NC / Dataset CC-Radiomics-Phantom HEAD-NECK-RADIOMICS-HN1 NSCLC-Radiomics full original X X X full randomized X X X full sampled X X X full shuffled X X X non_roi randomized X X X non_roi sampled X X X non_roi shuffled X X X roi randomized X X X roi sampled X X X roi shuffled X X X [2025-05-12] Tracking extraction of all features for Aerts signature |Feature / Dataset | HEAD-NECK-RADIOMICS-HN1 | NSCLC-Radiomics | RADCURE | |original_firstorder_Energy | X | X | X | |original_shape_Compactness1 | X | X | X | |original_glrlm_GrayLevelNonUniformity | X | X | X | |wavelet-HLH_glrlm_GrayLevelNonUniformity | running | running | X | Bootstrapping help came from: https://acclab.github.io/bootstrap-confidence-intervals.html survcomp R package only works for linux and osx-64 tried the scikit-survival implementation of the concordance index with bootstrapping, but results don't match Mattea's exactly trying with R now [2025-05-13] Processing data for signature prediction models * Since RADCURE was processed with old med-imagetools, manually set up mit_index from dataset.csv * Change the column patient_ID to PatientID * Add index column label SampleID |File / Dataset | HEAD-NECK-RADIOMICS-HN1 | NSCLC-Radiomics | RADCURE | | clinical | id | PatientID | patient_id | | mit index file | SampleID, PatientID | PatientID | SampleID, PatientID | | radiomics | ID == | ID | ID | HN1 - going to make a SampleID column in the mit2_index Rerunning all the MIT and feature extraction","title":"Data Processing Notes"},{"location":"devnotes/#manuscript-notes","text":"[2025-05-14] Manuscript Review Feedback Notes Introduction/Background Paragraph around biological/clinical application of radiomics (why do we do it?) Literature review for other quality control methods for radiomics Methods Add prediction of HPV status model Include section about saving out the negative control images Explain modular implementation of the negative controls such that users can construct their own Add ability to save out the changed mask from the contraction/expansion NCs Look for synonyms for transformation Intensity transformation? Sisira asked for an example of the RadiomicSet data to understand what it looks like Results Josh liked the new abstract figure more Get p-value calculation code from Caryn Save out bootstrap hazards so they don't get recalculated Keep the diagonal self-correlation plots, will go in supplemental Calculate and plot average correlations between clusters of features (shape vs. first order) Hierarchical clustering between the feature class clusters Correlation plot of the Aerts signature + volume features Compare distribution of correlation values in a line plot Line for each image type x-axis is the feature types, colourblock behind the plot for each imagetype Plot correlations with outcome before and after QC Plots - [ ] Box plot of hazards for each image type and dataset to compare","title":"Manuscript Notes"},{"location":"usage/","text":"Usage Guide Project Configuration TODO:: discuss how to edit the configuration files in the config/ directory to match your research parameters TODO:: discuss how to add your input data to the data/rawdata/ directory and document it properly in the docs/data_sources/ directory TODO:: discuss how to manage and organize your data sources effectively Running Your Analysis Data splitting aerts_original Train: NSCLC-Radiomics Validation: HN1, RADCURE-test aerts_RADCURE_refit Train: RADCURE-train Validation: HN1, RADCURE-test r2r_NSCLC Train: NSCLC-Radiomics Validation: HN1, RADCURE-test r2r_RADCURE Train: RADCURE-train Validation: HN1, RADCURE-test Survival Modelling Resources https://scikit-survival.readthedocs.io/en/stable/user_guide/evaluating-survival-models.html# Harrell's C-index: https://scikit-survival.readthedocs.io/en/stable/api/generated/sksurv.metrics.concordance_index_censored.html","title":"Usage"},{"location":"usage/#usage-guide","text":"","title":"Usage Guide"},{"location":"usage/#project-configuration","text":"TODO:: discuss how to edit the configuration files in the config/ directory to match your research parameters TODO:: discuss how to add your input data to the data/rawdata/ directory and document it properly in the docs/data_sources/ directory TODO:: discuss how to manage and organize your data sources effectively","title":"Project Configuration"},{"location":"usage/#running-your-analysis","text":"","title":"Running Your Analysis"},{"location":"usage/#data-splitting","text":"","title":"Data splitting"},{"location":"usage/#aerts_original","text":"Train: NSCLC-Radiomics Validation: HN1, RADCURE-test","title":"aerts_original"},{"location":"usage/#aerts_radcure_refit","text":"Train: RADCURE-train Validation: HN1, RADCURE-test","title":"aerts_RADCURE_refit"},{"location":"usage/#r2r_nsclc","text":"Train: NSCLC-Radiomics Validation: HN1, RADCURE-test","title":"r2r_NSCLC"},{"location":"usage/#r2r_radcure","text":"Train: RADCURE-train Validation: HN1, RADCURE-test","title":"r2r_RADCURE"},{"location":"usage/#survival-modelling","text":"","title":"Survival Modelling"},{"location":"usage/#resources","text":"https://scikit-survival.readthedocs.io/en/stable/user_guide/evaluating-survival-models.html# Harrell's C-index: https://scikit-survival.readthedocs.io/en/stable/api/generated/sksurv.metrics.concordance_index_censored.html","title":"Resources"}]}